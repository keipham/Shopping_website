prompt --application/pages/page_00015beginwwv_flow_api.create_page( p_id=>15,p_user_interface_id=>wwv_flow_api.id(327304041051455600),p_name=>'U_D_ Orders',p_page_mode=>'MODAL',p_step_title=>'Order management',p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS',p_first_item=>'NO_FIRST_ITEM',p_autocomplete_on_off=>'OFF',p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';',p_inline_css=>wwv_flow_string.join(wwv_flow_t_varchar2('','body{','    font-family: ''Comic Sans MS'';','}')),p_page_template_options=>'#DEFAULT#',p_required_role=>wwv_flow_api.id(328224405980893970),p_dialog_chained=>'Y',p_overwrite_navigation_list=>'N',p_page_is_public_y_n=>'N',p_protection_level=>'C',p_cache_mode=>'NOCACHE',p_last_updated_by=>'defaultUser',p_last_upd_yyyymmddhh24miss=>'20000101000000');wwv_flow_api.create_page_plug( p_id=>wwv_flow_api.id(346426236523390787),p_plug_name=>'Form on SOK_ORDER',p_region_template_options=>'#DEFAULT#',p_plug_template=>wwv_flow_api.id(327260456234455539),p_plug_display_sequence=>10,p_include_in_reg_disp_sel_yn=>'N',p_plug_display_point=>'BODY',p_plug_query_row_template=>1,p_plug_query_options=>'DERIVED_REPORT_COLUMNS',p_plug_required_role=>wwv_flow_api.id(328224405980893970),p_attribute_01=>'N',p_attribute_02=>'TEXT',p_attribute_03=>'Y');wwv_flow_api.create_page_plug( p_id=>wwv_flow_api.id(346426986250390790),p_plug_name=>'Buttons',p_region_template_options=>'#DEFAULT#',p_plug_template=>wwv_flow_api.id(327260825035455539),p_plug_display_sequence=>10,p_include_in_reg_disp_sel_yn=>'N',p_plug_display_point=>'REGION_POSITION_03',p_plug_query_row_template=>1,p_attribute_01=>'N',p_attribute_02=>'TEXT',p_attribute_03=>'Y');wwv_flow_api.create_page_button( p_id=>wwv_flow_api.id(346427343175390790),p_button_sequence=>10,p_button_plug_id=>wwv_flow_api.id(346426986250390790),p_button_name=>'CANCEL',p_button_action=>'DEFINED_BY_DA',p_button_template_options=>'#DEFAULT#',p_button_template_id=>wwv_flow_api.id(327293267790455585),p_button_image_alt=>'Cancel',p_button_position=>'REGION_TEMPLATE_CLOSE',p_grid_new_grid=>false);wwv_flow_api.create_page_button( p_id=>wwv_flow_api.id(346426796907390790),p_button_sequence=>20,p_button_plug_id=>wwv_flow_api.id(346426986250390790),p_button_name=>'DELETE',p_button_action=>'REDIRECT_URL',p_button_template_options=>'#DEFAULT#',p_button_template_id=>wwv_flow_api.id(327293267790455585),p_button_image_alt=>'Delete',p_button_position=>'REGION_TEMPLATE_DELETE',p_button_redirect_url=>'javascript:apex.confirm(htmldb_delete_message,''DELETE'');',p_button_execute_validations=>'N',p_button_condition_type=>'NEVER',p_database_action=>'DELETE');wwv_flow_api.create_page_button( p_id=>wwv_flow_api.id(346426715378390790),p_button_sequence=>30,p_button_plug_id=>wwv_flow_api.id(346426986250390790),p_button_name=>'SAVE',p_button_action=>'SUBMIT',p_button_template_options=>'#DEFAULT#',p_button_template_id=>wwv_flow_api.id(327293267790455585),p_button_is_hot=>'Y',p_button_image_alt=>'Save',p_button_position=>'REGION_TEMPLATE_NEXT',p_button_condition=>'P15_ORDER_ID',p_button_condition_type=>'ITEM_IS_NOT_NULL',p_database_action=>'UPDATE');wwv_flow_api.create_page_button( p_id=>wwv_flow_api.id(346426678275390790),p_button_sequence=>40,p_button_plug_id=>wwv_flow_api.id(346426986250390790),p_button_name=>'CREATE',p_button_action=>'SUBMIT',p_button_template_options=>'#DEFAULT#',p_button_template_id=>wwv_flow_api.id(327293267790455585),p_button_is_hot=>'Y',p_button_image_alt=>'Create',p_button_position=>'REGION_TEMPLATE_NEXT',p_button_condition=>'P15_ORDER_ID',p_button_condition_type=>'ITEM_IS_NULL',p_grid_new_grid=>false,p_database_action=>'INSERT');wwv_flow_api.create_page_item( p_id=>wwv_flow_api.id(346429752990390798),p_name=>'P15_ORDER_ID',p_item_sequence=>10,p_item_plug_id=>wwv_flow_api.id(346426236523390787),p_use_cache_before_default=>'NO',p_prompt=>'Order Id',p_source=>'ORDER_ID',p_source_type=>'DB_COLUMN',p_display_as=>'NATIVE_HIDDEN',p_label_alignment=>'RIGHT',p_field_template=>wwv_flow_api.id(327292794678455582),p_item_template_options=>'#DEFAULT#',p_protection_level=>'S',p_attribute_01=>'Y');wwv_flow_api.create_page_item( p_id=>wwv_flow_api.id(346430180411390837),p_name=>'P15_ORDER_STATUS_CODE',p_is_required=>true,p_item_sequence=>20,p_item_plug_id=>wwv_flow_api.id(346426236523390787),p_use_cache_before_default=>'NO',p_prompt=>'Status',p_source=>'ORDER_STATUS_CODE',p_source_type=>'DB_COLUMN',p_display_as=>'NATIVE_SELECT_LIST',p_named_lov=>'ORDER_STATUS_LOV',p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2('select order_status_name as d,','       order_status_code as r','  from SOK_ORDER_STATUS_LU',' order by 1')),p_cHeight=>1,p_field_template=>wwv_flow_api.id(327292952744455582),p_item_template_options=>'#DEFAULT#',p_lov_display_extra=>'YES',p_attribute_01=>'NONE',p_attribute_02=>'N');wwv_flow_api.create_page_da_event( p_id=>wwv_flow_api.id(346427409509390790),p_name=>'Cancel Dialog',p_event_sequence=>10,p_triggering_element_type=>'BUTTON',p_triggering_button_id=>wwv_flow_api.id(346427343175390790),p_bind_type=>'bind',p_bind_event_type=>'click');wwv_flow_api.create_page_da_action( p_id=>wwv_flow_api.id(346428255729390792),p_event_id=>wwv_flow_api.id(346427409509390790),p_event_result=>'TRUE',p_action_sequence=>10,p_execute_on_page_init=>'N',p_action=>'NATIVE_DIALOG_CANCEL',p_stop_execution_on_error=>'Y');wwv_flow_api.create_page_process( p_id=>wwv_flow_api.id(346431125088390842),p_process_sequence=>10,p_process_point=>'AFTER_HEADER',p_process_type=>'NATIVE_FORM_FETCH',p_process_name=>'Fetch Row from SOK_ORDER',p_attribute_02=>'SOK_ORDER',p_attribute_03=>'P15_ORDER_ID',p_attribute_04=>'ORDER_ID',p_error_display_location=>'INLINE_IN_NOTIFICATION');wwv_flow_api.create_page_process( p_id=>wwv_flow_api.id(346431576168390842),p_process_sequence=>30,p_process_point=>'AFTER_SUBMIT',p_process_type=>'NATIVE_PLSQL',p_process_name=>'Process on update order status',p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2('declare','  loc_order_status_code        SOK_ORDER.order_status_code%TYPE;','  CURSOR','      c1 (val_order_id IN SOK_ORDER.order_id%TYPE) ','  IS ','      SELECT product_detail_id, order_product_quantity','      FROM SOK_ORDER_CONTENT_DETAIL_VW','      WHERE order_id = val_order_id;','begin','    loc_order_status_code := SOK_ORDER_UTIL.u_order(','                                val_order_id => :P15_ORDER_ID,','                                val_order_status_code => :P15_ORDER_STATUS_CODE);','                  ','    if loc_order_status_code = ''CANCELLED'' then','      for r1 in c1(:P15_ORDER_ID)','     loop','       sok_product_detail_util.u_product_detail_stock(','                                   val_product_detail_id => r1.product_detail_id,','                                   val_order_product_quantity => r1.order_product_quantity);','     end loop;','    end if;','end;','   ')),p_error_display_location=>'INLINE_IN_NOTIFICATION',p_process_when_button_id=>wwv_flow_api.id(346426715378390790),p_process_success_message=>'Action Processed.');wwv_flow_api.create_page_process( p_id=>wwv_flow_api.id(346431946473390843),p_process_sequence=>50,p_process_point=>'AFTER_SUBMIT',p_process_type=>'NATIVE_SESSION_STATE',p_process_name=>'reset page',p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE',p_error_display_location=>'INLINE_IN_NOTIFICATION',p_process_when_button_id=>wwv_flow_api.id(346426796907390790));wwv_flow_api.create_page_process( p_id=>wwv_flow_api.id(346432326366390843),p_process_sequence=>60,p_process_point=>'AFTER_SUBMIT',p_process_type=>'NATIVE_CLOSE_WINDOW',p_process_name=>'Close Dialog',p_error_display_location=>'INLINE_IN_NOTIFICATION',p_process_when=>'CREATE,SAVE,DELETE',p_process_when_type=>'REQUEST_IN_CONDITION',p_process_success_message=>'Action processed.');end;/